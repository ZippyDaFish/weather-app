(()=>{function e(e){var n;return dayData={},dayData.date=(n=(n=e.dt_txt).toString(),slicedDate=n.slice(6),finalDate=slicedDate.split(" "),finalDate[0]),dayData.pop=Math.round(100*e.pop).toString()+"%",dayData.icon=t(e.weather[0].icon),dayData.temp=e.main.temp.toString()+"C",dayData}function t(e){return icon="http://openweathermap.org/img/wn/"+e+"@2x.png",icon}function n(n,a){(async function(e,n){const a=await fetch("https://api.openweathermap.org/data/2.5/weather?q="+e+"&units="+n+"&APPID=1bc93ee0ee0d4cdd8fd91c4abca090f2",{mode:"cors"}),i=await a.json();weatherToday=function(e){return weatherToday={},weatherToday.feelsLike=e.main.feels_like,weatherToday.temp=e.main.temp,weatherToday.humidity=e.main.humidity,weatherToday.wind=e.wind.speed,weatherToday.icon=t(e.weather[0].icon),weatherToday.desc=function(e){let t=e.split(" ");for(let e=0;e<t.length;e++)t[e]=t[e][0].toUpperCase()+t[e].substr(1);return finalSentence=t.join(" "),finalSentence}(e.weather[0].description),weatherToday}(i),function(e,t){document.getElementById("feels-like").innerText="Feels Like "+e.feelsLike.toString()+"C",document.getElementById("temp").innerText="Temp "+e.temp.toString()+"C",document.getElementById("humidity").innerText="Humidity "+e.humidity,document.getElementById("wind").innerText="Wind "+e.wind,document.getElementById("description").innerText=e.desc,document.getElementById("icon").src=e.icon,document.getElementById("location-display").innerText=t}(weatherToday,e)})(n,a),async function(t,n){const a=await fetch("https://api.openweathermap.org/data/2.5/forecast?q="+t+"&units="+n+"&APPID=1bc93ee0ee0d4cdd8fd91c4abca090f2",{mode:"cors"}),o=await a.json();forecast=function(t){let n=[];for(i=5;i<t.length;i+=8)day=e(t[i]),n.push(day);return n}(o.list),console.log(forecast),function(e){const t=document.getElementById("forecast");for(t.innerHTML="",i=0;i<e.length;i++){const n=document.createElement("div");n.classList.add("forecast-card","flex-column"),t.appendChild(n);const a=document.createElement("p");a.innerText=e[i].date;const o=document.createElement("p");o.innerText=e[i].pop;const d=document.createElement("img");d.src=e[i].icon;const c=document.createElement("p");c.innerText=e[i].temp,n.appendChild(a),n.appendChild(o),n.appendChild(d),n.appendChild(c)}}(forecast)}(n,a)}document.getElementById("location-submit").addEventListener("click",(function(){!function(){let e=document.getElementById("location-input");const t=e.value;e.value="",n(t,"metric")}()})),n("London","metric")})();